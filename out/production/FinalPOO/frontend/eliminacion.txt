            (Creacion de figuras)

            if(rectangleButton.isSelected()) {
				newFigure = new Rectangle(startPoint, endPoint);
			}
			else if(circleButton.isSelected()) {
				double circleRadius = Math.abs(endPoint.getX() - startPoint.getX());
				newFigure = new Circle(startPoint, circleRadius);
			} else if(squareButton.isSelected()) {
				double size = Math.abs(endPoint.getX() - startPoint.getX());
				newFigure = new Square(startPoint, size);
			} else if(ellipseButton.isSelected()) {
				Point centerPoint = new Point(Math.abs(endPoint.x + startPoint.x) / 2, (Math.abs((endPoint.y + startPoint.y)) / 2));
				double sMayorAxis = Math.abs(endPoint.x - startPoint.x);
				double sMinorAxis = Math.abs(endPoint.y - startPoint.y);
				newFigure = new Ellipse(centerPoint, sMayorAxis, sMinorAxis);
			} else {
				return ;
			}



			        if(figure == selectedFigure) {
           				gc.setStroke(Color.RED);
            		} else {
            				gc.setStroke(lineColor);
           			}



                        if(figure instanceof Rectangle) {
            				Rectangle rectangle = (Rectangle) figure;
            				gc.fillRect(rectangle.getTopLeft().getX(), rectangle.getTopLeft().getY(),
            						Math.abs(rectangle.getTopLeft().getX() - rectangle.getBottomRight().getX()), Math.abs(rectangle.getTopLeft().getY() - rectangle.getBottomRight().getY()));
            				gc.strokeRect(rectangle.getTopLeft().getX(), rectangle.getTopLeft().getY(),
            						Math.abs(rectangle.getTopLeft().getX() - rectangle.getBottomRight().getX()), Math.abs(rectangle.getTopLeft().getY() - rectangle.getBottomRight().getY()));
            			} else if(figure instanceof Circle) {
            				Circle circle = (Circle) figure;
            				double diameter = circle.getRadius() * 2;
            				gc.fillOval(circle.getCenterPoint().getX() - circle.getRadius(), circle.getCenterPoint().getY() - circle.getRadius(), diameter, diameter);
            				gc.strokeOval(circle.getCenterPoint().getX() - circle.getRadius(), circle.getCenterPoint().getY() - circle.getRadius(), diameter, diameter);
            			} else if(figure instanceof Square) {
            				Square square = (Square) figure;
            				gc.fillRect(square.getTopLeft().getX(), square.getTopLeft().getY(),
            						Math.abs(square.getTopLeft().getX() - square.getBottomRight().getX()), Math.abs(square.getTopLeft().getY() - square.getBottomRight().getY()));
            				gc.strokeRect(square.getTopLeft().getX(), square.getTopLeft().getY(),
            						Math.abs(square.getTopLeft().getX() - square.getBottomRight().getX()), Math.abs(square.getTopLeft().getY() - square.getBottomRight().getY()));
            			} else if(figure instanceof Ellipse) {
            				Ellipse ellipse = (Ellipse) figure;
            				gc.strokeOval(ellipse.getCenterPoint().getX() - (ellipse.getsMayorAxis() / 2), ellipse.getCenterPoint().getY() - (ellipse.getsMinorAxis() / 2), ellipse.getsMayorAxis(), ellipse.getsMinorAxis());
            				gc.fillOval(ellipse.getCenterPoint().getX() - (ellipse.getsMayorAxis() / 2), ellipse.getCenterPoint().getY() - (ellipse.getsMinorAxis() / 2), ellipse.getsMayorAxis(), ellipse.getsMinorAxis());
            			}


            					boolean found = false;
                        		if(figure instanceof Rectangle) {
                        			Rectangle rectangle = (Rectangle) figure;
                        			found = eventPoint.getX() > rectangle.getTopLeft().getX() && eventPoint.getX() < rectangle.getBottomRight().getX() &&
                        					eventPoint.getY() > rectangle.getTopLeft().getY() && eventPoint.getY() < rectangle.getBottomRight().getY();
                        		} else if(figure instanceof Circle) {
                        			Circle circle = (Circle) figure;
                        			found = Math.sqrt(Math.pow(circle.getCenterPoint().getX() - eventPoint.getX(), 2) +
                        					Math.pow(circle.getCenterPoint().getY() - eventPoint.getY(), 2)) < circle.getRadius();
                        		} else if(figure instanceof Square) {
                        			Square square = (Square) figure;
                        			found = eventPoint.getX() > square.getTopLeft().getX() && eventPoint.getX() < square.getBottomRight().getX() &&
                        					eventPoint.getY() > square.getTopLeft().getY() && eventPoint.getY() < square.getBottomRight().getY();
                        		} else if(figure instanceof Ellipse) {
                        			Ellipse ellipse = (Ellipse) figure;
                        			// Nota: Fórmula aproximada. No es necesario corregirla.
                        			found = ((Math.pow(eventPoint.getX() - ellipse.getCenterPoint().getX(), 2) / Math.pow(ellipse.getsMayorAxis(), 2)) +
                        					(Math.pow(eventPoint.getY() - ellipse.getCenterPoint().getY(), 2) / Math.pow(ellipse.getsMinorAxis(), 2))) <= 0.30;
                        		}
                        		return found;



                        		            boolean found = false;
                                			StringBuilder label = new StringBuilder();
                                			for(Figure figure : canvasState.figures()) {
                                				if(figure.containsOn(eventPoint)) {
                                					found = true;
                                					label.append(figure.toString());
                                				}
                                			}
                                			if(found) {
                                				statusPane.updateStatus(label.toString());
                                			} else {
                                				statusPane.updateStatus(eventPoint.toString());
                                			}

                                                boolean found = false;
                                				StringBuilder label = new StringBuilder("Se seleccionó: ");
                                				for (Figure figure : canvasState.figures()) {
                                					if(figure.containsOn(eventPoint)) {
                                						found = true;
                                						selectedFigure = figure;
                                						label.append(figure.toString());
                                					}
                                				}
                                				if (found) {
                                					statusPane.updateStatus(label.toString());
                                				} else {
                                					selectedFigure = null;
                                					statusPane.updateStatus("Ninguna figura encontrada");
                                				}